{% extends "base.html" %}

{% block title %}Elevator Status{% endblock %}

{% block content %}
<h2>Elevator Status</h2>
<div id="elevator-table"
     hx-get="/elevator-table"
     hx-trigger="every 2s"
     hx-swap="outerHTML">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Current Floor</th>
                <th>Status</th>
                <th>Door</th>
                <th>Destinations</th>
            </tr>
        </thead>
        <tbody>
        {% for elevator in elevators %}
            <tr>
                <td>{{ elevator.id }}</td>
                <td>{{ elevator.current_floor }}</td>
                <td>{{ elevator.status }}</td>
                <td>{{ elevator.door_status }}</td>
                <td>{{ elevator.destinations | join(", ") }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<h2>Requests</h2>
<div id="request-table"
     hx-get="/request-table"
     hx-trigger="every 2s"
     hx-swap="outerHTML">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Floor</th>
                <th>Direction</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody>
        {% for request in requests %}
            <tr>
                <td>{{ request.id }}</td>
                <td>{{ request.floor }}</td>
                <td>{{ request.direction }}</td>
                <td>{{ request.timestamp }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
